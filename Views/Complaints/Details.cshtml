@model CampusComplaints.Web.Models.Complaint

@{
    ViewData["Title"] = "Complaint Details";
}

<div class="container mt-4">
    <h2>@Model.Title</h2>
    <dl class="row">
        <dt class="col-sm-3">Category</dt>
        <dd class="col-sm-9">@Model.Category</dd>
        <dt class="col-sm-3">Status</dt>
        <dd class="col-sm-9">@Model.Status</dd>
        <dt class="col-sm-3">Reported By</dt>
        <dd class="col-sm-9">@Model.ReporterName (@Model.ReporterEmail)</dd>
        <dt class="col-sm-3">Created</dt>
        <dd class="col-sm-9">@Model.CreatedAtUtc.ToLocalTime().ToString("f")</dd>
        <dt class="col-sm-3">Description</dt>
        <dd class="col-sm-9"><pre class="mb-0">@Model.Description</pre></dd>
    </dl>

    <form asp-action="ChangeStatus" method="post" class="mb-3">
        <input type="hidden" name="id" value="@Model.Id" />
        <div class="input-group" style="max-width: 360px;">
            <select name="status" class="form-select">
                <option selected="@(Model.Status=="Open")">Open</option>
                <option selected="@(Model.Status=="InProgress")">InProgress</option>
                <option selected="@(Model.Status=="Resolved")">Resolved</option>
                <option selected="@(Model.Status=="Closed")">Closed</option>
            </select>
            <button type="submit" class="btn btn-outline-primary">Update Status</button>
        </div>
    </form>

    <a class="btn btn-secondary" asp-action="Index">Back</a>
    <a class="btn btn-primary" asp-action="Edit" asp-route-id="@Model.Id">Edit</a>
</div>


